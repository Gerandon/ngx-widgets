<mat-form-field [appearance]="appearance() ?? _appearance()"
                [color]="color() ?? _color()"
                [subscriptSizing]="subscriptSizing()"
                [floatLabel]="floatLabel()">
  @if (label) {
    <mat-label>{{ label }}</mat-label>
  }
  <mat-select #inputElement
              #input="ngForm"
              [multiple]="multiple()"
              [placeholder]="!floatLabel() ? label : placeholder"
              [formControl]="control"
              [id]="id"
              [class.input-disabled]="isDisabled() || control.disabled"
              [attr.aria-placeholder]="ariaPlaceholder() || placeholder"
              [attr.aria-label]="ariaLabel() || label"
              [attr.aria-describedby]="ariaDescribedBy()"
              [attr.aria-description]="ariaDescription()"
              [compareWith]="_isEqual"
              [attr.disabled]="isDisabled() || control.disabled ? '' : null">
    @if (emptyOptionLabel) {
      <mat-option (click)="reset()" [attr.aria-label]="emptyOptionAriaLabel">
        {{ emptyOptionLabel }}
      </mat-option>
    }
    @for(option of options; track option) {
      <mat-option [value]="option.value">
        {{ option.label }}
      </mat-option>
    }
  </mat-select>
  @if (suffix) {
    <span matSuffix>{{suffix}}</span>
  }
  @if (control.errors?.['server']) {
    <mat-error>{{ control.errors?.['server'] }}</mat-error>
  }
  @for (errorKey of controlErrorKeys; track errorKey) {
    <mat-error>
      @if(validatorMessages()?.[errorKey]) {
        {{ validatorMessages()![errorKey] }}
      } @else if (!!validationTranslations?.[errorKey]) {
        {{ validationTranslations[errorKey] }}
      }
    </mat-error>
  }
</mat-form-field>
